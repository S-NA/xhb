diff -u -r generated/1.2/XHB/Gen/RandR/Types.hs working/XHB/Gen/RandR/Types.hs
--- generated/1.2/XHB/Gen/RandR/Types.hs	2008-08-03 12:42:30.000000000 -0500
+++ working/XHB/Gen/RandR/Types.hs	2008-08-03 12:42:30.000000000 -0500
@@ -795,11 +795,11 @@
                                                mheight_ScreenChangeNotify :: CARD16}
                         deriving Show
  
-data Notify = NotifyCrtcChange
-            | NotifyOutputChange
-            | NotifyOutputProperty
+data NotifyEnum = NotifyCrtcChange
+                | NotifyOutputChange
+                | NotifyOutputProperty
  
-instance SimpleEnum Notify where
+instance SimpleEnum NotifyEnum where
         toValue NotifyCrtcChange{} = 0
         toValue NotifyOutputChange{} = 1
         toValue NotifyOutputProperty{} = 2
@@ -933,6 +933,24 @@
                skip 11
                return (MkOutputProperty window output atom timestamp status)
  
+data NotifyData = NotifyDataCrtcChange CrtcChange
+                | NotifyDataOutputChange OutputChange
+                | NotifyDataOutputProperty OutputProperty
+
+instance Serialize NotifyData where
+    serialize bo (NotifyDataCrtcChange x) = serialize bo x
+    serialize bo (NotifyDataOutputChange x) = serialize bo x
+    serialize bo (NotifyDataOutputProperty x) = serialize bo x
+
+    size (NotifyDataCrtcChange x) = size x
+    size (NotifyDataOutputChange x) = size x
+    size (NotifyDataOutputProperty x) = size x
+
+deserializeNotifyData :: NotifyEnum -> BO -> Get NotifyData
+deserializeNotifyData NotifyCrtcChange bo = NotifyDataCrtcChange `liftM` deserialize bo
+deserializeNotifyData NotifyOutputChange bo = NotifyDataOutputChange `liftM` deserialize bo
+deserializeNotifyData NotifyOutputProperty bo = NotifyDataOutputProperty `liftM` deserialize bo
+
 data Notify = MkNotify{subCode_Notify :: CARD8,
                        u_Notify :: NotifyData}
             deriving Show
\ No newline at end of file
Only in working/XHB/Gen/RandR: Types.hs.orig
diff -u -r generated/1.2/XHB/Gen/XFixes/Types.hs working/XHB/Gen/XFixes/Types.hs
--- generated/1.2/XHB/Gen/XFixes/Types.hs	2008-08-03 12:42:30.000000000 -0500
+++ working/XHB/Gen/XFixes/Types.hs	2008-08-03 12:42:30.000000000 -0500
@@ -3,7 +3,7 @@
         QueryVersionReply(..), SaveSetMode(..), SaveSetTarget(..),
         SaveSetMapping(..), ChangeSaveSet(..), SelectionEvent(..),
         SelectionEventMask(..), SelectionNotify(..),
-        SelectSelectionInput(..), CursorNotify(..), CursorNotifyMask(..),
+        SelectSelectionInput(..), CursorNotifyEnum(..), CursorNotifyMask(..),
         CursorNotify(..), SelectCursorInput(..), GetCursorImage(..),
         GetCursorImageReply(..), REGION, CreateRegion(..),
         CreateRegionFromBitmap(..), CreateRegionFromWindow(..),
@@ -165,9 +165,9 @@
                                                    event_mask_SelectSelectionInput :: CARD32}
                           deriving Show
  
-data CursorNotify = CursorNotifyDisplayCursor
+data CursorNotifyEnum = CursorNotifyDisplayCursor
  
-instance SimpleEnum CursorNotify where
+instance SimpleEnum CursorNotifyEnum where
         toValue CursorNotifyDisplayCursor{} = 0
         fromValue 0 = CursorNotifyDisplayCursor
  
Only in working/XHB/Gen/XFixes: Types.hs.orig
diff -u -r generated/1.2/XHB/Gen/Xproto/Types.hs working/XHB/Gen/Xproto/Types.hs
--- generated/1.2/XHB/Gen/Xproto/Types.hs	2008-08-03 12:42:30.000000000 -0500
+++ working/XHB/Gen/Xproto/Types.hs	2008-08-03 12:48:13.000000000 -0500
@@ -1170,6 +1170,48 @@
                                        colormap_ColormapNotify :: COLORMAP,
                                        new_ColormapNotify :: BOOL, state_ColormapNotify :: BYTE}
                     deriving Show
+
+ 
+data ClientMessageData = ClientData8  [CARD8]  -- ^length 20
+                       | ClientData16 [CARD16] -- ^length 10
+                       | ClientData32 [CARD32] -- ^length 5
+                   deriving Show
+
+ 
+data ClientMessageDataType = CDType8
+                            | CDType16
+                            | CDType32
+ 
+clientMessageDataType :: ClientMessageData -> ClientMessageDataType
+clientMessageDataType ClientData8{}  = CDType8
+clientMessageDataType ClientData16{} = CDType16
+clientMessageDataType ClientData32{} = CDType32
+ 
+instance Serialize ClientMessageData where
+    serialize bo (ClientData8 xs) = assert (length xs == 20) $
+                                    serializeList bo xs
+    serialize bo (ClientData16 xs) = assert (length xs == 10) $
+                                     serializeList bo xs
+    serialize bo (ClientData32 xs) = assert (length xs == 5) $
+                                     serializeList bo xs
+ 
+    size cd = assert
+         (case cd of
+            ClientData8  xs -> length xs == 20
+            ClientData16 xs -> length xs == 10
+            ClientData32 xs -> length xs == 5)
+         20
+ 
+deserializeClientData :: BO -> ClientMessageDataType -> Get ClientMessageData
+deserializeClientData bo CDType8
+    = ClientData8 `liftM` deserializeList bo 20
+deserializeClientData bo CDType16
+    = ClientData16 `liftM` deserializeList bo 10
+deserializeClientData bo CDType32
+    = ClientData32 `liftM` deserializeList bo 5
+ 
+ 
+
  
 data ClientMessage = MkClientMessage{format_ClientMessage :: CARD8,
                                      window_ClientMessage :: WINDOW, type_ClientMessage :: ATOM,
@@ -2343,6 +2385,9 @@
 odd_length_QueryTextExtents :: QueryTextExtents -> BOOL
 odd_length_QueryTextExtents x
   = (fromIntegral (string_len_QueryTextExtents x .&. 1))
+
+string_len_QueryTextExtents :: QueryTextExtents -> Word8
+string_len_QueryTextExtents x = genericLength $ string_QueryTextExtents x
  
 data QueryTextExtentsReply = MkQueryTextExtentsReply{draw_direction_QueryTextExtentsReply
                                                      :: BYTE,
Only in working/XHB/Gen/Xproto: Types.hs.orig
Only in working/XHB/Gen/Xproto: Types.hs.rej
diff -u -r generated/1.2/XHB/Gen/Xv/Types.hs working/XHB/Gen/Xv/Types.hs
--- generated/1.2/XHB/Gen/Xv/Types.hs	2008-08-03 12:42:30.000000000 -0500
+++ working/XHB/Gen/Xv/Types.hs	2008-08-03 12:42:30.000000000 -0500
@@ -15,6 +15,7 @@
         ListImageFormatsReply(..), QueryImageAttributes(..),
         QueryImageAttributesReply(..), PutImage(..), ShmPutImage(..))
        where
+import Prelude hiding (Rational)
 import XHB.Shared
 import Data.Word
 import Foreign.C.Types
